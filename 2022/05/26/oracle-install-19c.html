<!doctype html><html lang=zh-cn dir=content/zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=content-security-policy content="upgrade-insecure-requests"><title>Oracle Install 19c@CentOS 7.6 - 路无止境！</title><meta name=keywords content="博客,架构师,思考,读书,笔记,技术,分享,云"><meta name=author content="Etaon"><meta property="og:title" content="Oracle Install 19c@CentOS 7.6"><meta property="og:site_name" content="路无止境！"><meta property="og:image" content="/img/author.jpg"><meta name=title content="Oracle Install 19c@CentOS 7.6 - 路无止境！"><meta name=description content="欢迎来到ETAON空间站，个人主要专注于Infra系统架构，私有/公有云产品，售前及微服务解决方案。"><link rel="shortcut icon" href=/img/favicon.ico><link rel=apple-touch-icon href=/img/apple-touch-icon.png><link rel=apple-touch-icon-precomposed href=/img/apple-touch-icon.png><link href=//cdn.bootcdn.net/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css rel=stylesheet type=text/css><link href=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.css rel=stylesheet><link href=/css/main.css rel=stylesheet type=text/css><link href=/css/syntax.css rel=stylesheet type=text/css></head><body itemscope itemtype=http://schema.org/WebPage lang=zh-hans><div class="container one-collumn sidebar-position-left page-home"><div class=headband></div><header id=header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle role=button style=opacity:1;top:0><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><div class=multi-lang-switch><i class="fa fa-fw fa-language" style=margin-right:5px></i>
<a class=lang-link id=zh-cn href=#>学习</a></div><div class=custom-logo-site-title><a href=/ class=brand rel=start><span class=logo-line-before><i></i></span>
<span class=site-title>路无止境！</span>
<span class=logo-line-after><i></i></span></a></div><p class=site-subtitle>没有伞的孩子要学会努力奔跑!</p></div><div class=site-nav-right><div class="toggle popup-trigger" style=opacity:1;top:0><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul id=menu class=menu><li class=menu-item><a href=/ rel=section><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class=menu-item><a href=/post rel=section><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class=menu-item><a href=/about.html rel=section><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于我</a></li><li class=menu-item><a href=/404.html rel=section><i class="menu-item-icon fa fa-fw fa-heartbeat"></i><br>公益404</a></li><li class="menu-item menu-item-search"><a href=javascript:; class=popup-trigger><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class=site-search><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class=search-icon><i class="fa fa-search"></i></span>
<span class=popup-btn-close><i class="fa fa-times-circle"></i></span><div class=local-search-input-wrapper><input autocomplete=off placeholder=搜索关键字... spellcheck=false type=text id=local-search-input autocapitalize=none autocorrect=off></div></div><div id=local-search-result></div></div></div></nav></div></header><main id=main class=main><div class=main-inner><div class=content-wrap><div id=content class=content><section id=posts class=posts-expand><article class="post post-type-normal" itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline" style=font-weight:700><a class=post-title-link href=https://www.etaon.top/2022/05/26/oracle-install-19c.html itemprop=url>Oracle Install 19c@CentOS 7.6</a></h1></header><div class=post-body itemprop=articleBody><h2 id=拓扑图>拓扑图</h2><p><img src=https://img-blog.csdnimg.cn/45e25f2dcbcc4c51a87a6cd9107b16dd.jpeg#pic_center alt=在这里插入图片描述></p><h2 id=环境准备>环境准备</h2><ul><li>CentOS 7 1908</li><li>ELF 5.0.2 of SMTX OS</li></ul><h3 id=cpu绑定>CPU绑定</h3><p>在NUMA结构中，尽量把vCPU放到最少的NUMA</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic>#virsh list查看哪些虚机和序号</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@smtx-01 19:08:10 smartx<span style=color:#666>]</span><span style=color:#b8860b>$virsh</span> list
</span></span><span style=display:flex><span> Id    Name                           State
</span></span><span style=display:flex><span>----------------------------------------------------
</span></span><span style=display:flex><span> <span style=color:#666>1</span>     e9eafd7a-9b19-4dd3-bce4-60635252528c running
</span></span><span style=display:flex><span> <span style=color:#666>2</span>     c4ea06f4-8084-4cdb-8010-a72e05402ce8 running
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic>#查看vcpu和vm的绑定</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@smtx-01 19:53:54 smartx<span style=color:#666>]</span><span style=color:#b8860b>$virsh</span> vcpuinfo <span style=color:#666>1</span>
</span></span><span style=display:flex><span>VCPU:           <span style=color:#666>0</span>
</span></span><span style=display:flex><span>CPU:            <span style=color:#666>31</span>
</span></span><span style=display:flex><span>State:          running
</span></span><span style=display:flex><span>CPU time:       619.7s
</span></span><span style=display:flex><span>CPU Affinity:   -y-y-y-y-y-yyyyyyyyyyyyyyyyyyyyy
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>VCPU:           <span style=color:#666>1</span>
</span></span><span style=display:flex><span>CPU:            <span style=color:#666>7</span>
</span></span><span style=display:flex><span>State:          running
</span></span><span style=display:flex><span>CPU time:       616.4s
</span></span><span style=display:flex><span>CPU Affinity:   -y-y-y-y-y-yyyyyyyyyyyyyyyyyyyyy
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic>#总cores</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@smtx-01 20:01:02 smartx<span style=color:#666>]</span><span style=color:#b8860b>$cat</span> /proc/cpuinfo | grep <span style=color:#b44>&#39;processor&#39;</span> | wc -l
</span></span><span style=display:flex><span><span style=color:#666>32</span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic>#物理cores</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@smtx-01 20:03:34 smartx<span style=color:#666>]</span><span style=color:#b8860b>$cat</span> /proc/cpuinfo | grep <span style=color:#b44>&#34;cores&#34;</span>|uniq
</span></span><span style=display:flex><span>cpu cores       : <span style=color:#666>8</span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic>#cpus</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@smtx-01 20:03:40 smartx<span style=color:#666>]</span><span style=color:#b8860b>$grep</span> <span style=color:#b44>&#39;physical id&#39;</span> /proc/cpuinfo | sort -u | wc -l
</span></span><span style=display:flex><span><span style=color:#666>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@smtx-01 15:00:22 smartx<span style=color:#666>]</span><span style=color:#b8860b>$virsh</span> vcpupin <span style=color:#666>2</span> <span style=color:#666>4</span> 20#绑定2号虚拟机的4号vCPU到20 core
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@smtx-01 14:31:30 smartx<span style=color:#666>]</span><span style=color:#b8860b>$virsh</span> vcpupin <span style=color:#666>2</span> --current
</span></span><span style=display:flex><span>VCPU: CPU Affinity
</span></span><span style=display:flex><span>----------------------------------
</span></span><span style=display:flex><span>   0: <span style=color:#666>16</span>
</span></span><span style=display:flex><span>   1: <span style=color:#666>17</span>
</span></span><span style=display:flex><span>   2: <span style=color:#666>18</span>
</span></span><span style=display:flex><span>   3: <span style=color:#666>19</span>
</span></span><span style=display:flex><span>   4: <span style=color:#666>20</span>
</span></span><span style=display:flex><span>   5: <span style=color:#666>21</span>
</span></span><span style=display:flex><span>   6: <span style=color:#666>22</span>
</span></span><span style=display:flex><span>   7: <span style=color:#666>23</span>
</span></span><span style=display:flex><span>   8: <span style=color:#666>24</span>
</span></span><span style=display:flex><span>   9: <span style=color:#666>25</span>
</span></span><span style=display:flex><span>......
</span></span></code></pre></div><h3 id=磁盘准备>磁盘准备</h3><ul><li>16C+64G+200G+100G(/u01)</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic># 挂载/u01</span>
</span></span><span style=display:flex><span>*mkdir /u01
</span></span><span style=display:flex><span>mkfs -t xfs /dev/vdb   
</span></span><span style=display:flex><span>mount /dev/vdb /u01
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;/dev/vdb  /u01                   xfs     defaults        0 0&#34;</span> &gt;&gt; /etc/fstab*
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># lsblk</span>
</span></span><span style=display:flex><span>NAME                       MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
</span></span><span style=display:flex><span>sr0                         11:0    <span style=color:#666>1</span>  4.4G  <span style=color:#666>0</span> rom  
</span></span><span style=display:flex><span>vda                        252:0    <span style=color:#666>0</span>  200G  <span style=color:#666>0</span> disk 
</span></span><span style=display:flex><span>├─vda1                     252:1    <span style=color:#666>0</span>    1G  <span style=color:#666>0</span> part /boot
</span></span><span style=display:flex><span>└─vda2                     252:2    <span style=color:#666>0</span>  199G  <span style=color:#666>0</span> part 
</span></span><span style=display:flex><span>  ├─centos_oracle--19-root 253:0    <span style=color:#666>0</span>   50G  <span style=color:#666>0</span> lvm  /
</span></span><span style=display:flex><span>  ├─centos_oracle--19-swap 253:1    <span style=color:#666>0</span>   20G  <span style=color:#666>0</span> lvm  <span style=color:#666>[</span>SWAP<span style=color:#666>]</span>
</span></span><span style=display:flex><span>  └─centos_oracle--19-home 253:2    <span style=color:#666>0</span>  129G  <span style=color:#666>0</span> lvm  /home
</span></span><span style=display:flex><span>vdb                        252:16   <span style=color:#666>0</span>  100G  <span style=color:#666>0</span> disk
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># mkdir /u01</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># mkfs.xfs -f /dev/vdb</span>
</span></span><span style=display:flex><span>meta-data<span style=color:#666>=</span>/dev/vdb               <span style=color:#b8860b>isize</span><span style=color:#666>=</span><span style=color:#666>512</span>    <span style=color:#b8860b>agcount</span><span style=color:#666>=</span>4, <span style=color:#b8860b>agsize</span><span style=color:#666>=</span><span style=color:#666>6553600</span> <span style=color:#b8860b>blks</span>
</span></span><span style=display:flex><span>         <span style=color:#666>=</span>                       <span style=color:#b8860b>sectsz</span><span style=color:#666>=</span><span style=color:#666>512</span>   <span style=color:#b8860b>attr</span><span style=color:#666>=</span>2, <span style=color:#b8860b>projid32bit</span><span style=color:#666>=</span><span style=color:#b8860b>1</span>
</span></span><span style=display:flex><span>         <span style=color:#666>=</span>                       <span style=color:#b8860b>crc</span><span style=color:#666>=</span><span style=color:#666>1</span>        <span style=color:#b8860b>finobt</span><span style=color:#666>=</span>0, <span style=color:#b8860b>sparse</span><span style=color:#666>=</span><span style=color:#666>0</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>data</span>     <span style=color:#666>=</span>                       <span style=color:#b8860b>bsize</span><span style=color:#666>=</span><span style=color:#666>4096</span>   <span style=color:#b8860b>blocks</span><span style=color:#666>=</span>26214400, <span style=color:#b8860b>imaxpct</span><span style=color:#666>=</span><span style=color:#b8860b>25</span>
</span></span><span style=display:flex><span>         <span style=color:#666>=</span>                       <span style=color:#b8860b>sunit</span><span style=color:#666>=</span><span style=color:#666>0</span>      <span style=color:#b8860b>swidth</span><span style=color:#666>=</span><span style=color:#666>0</span> blks
</span></span><span style=display:flex><span><span style=color:#b8860b>naming</span>   <span style=color:#666>=</span>version <span style=color:#666>2</span>              <span style=color:#b8860b>bsize</span><span style=color:#666>=</span><span style=color:#666>4096</span>   ascii-ci<span style=color:#666>=</span><span style=color:#666>0</span> <span style=color:#b8860b>ftype</span><span style=color:#666>=</span><span style=color:#666>1</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>log</span>      <span style=color:#666>=</span>internal log           <span style=color:#b8860b>bsize</span><span style=color:#666>=</span><span style=color:#666>4096</span>   <span style=color:#b8860b>blocks</span><span style=color:#666>=</span>12800, <span style=color:#b8860b>version</span><span style=color:#666>=</span><span style=color:#b8860b>2</span>
</span></span><span style=display:flex><span>         <span style=color:#666>=</span>                       <span style=color:#b8860b>sectsz</span><span style=color:#666>=</span><span style=color:#666>512</span>   <span style=color:#b8860b>sunit</span><span style=color:#666>=</span><span style=color:#666>0</span> blks, lazy-count<span style=color:#666>=</span><span style=color:#666>1</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>realtime</span> <span style=color:#666>=</span>none                   <span style=color:#b8860b>extsz</span><span style=color:#666>=</span><span style=color:#666>4096</span>   <span style=color:#b8860b>blocks</span><span style=color:#666>=</span>0, <span style=color:#b8860b>rtextents</span><span style=color:#666>=</span><span style=color:#666>0</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># mount /dev/vdb /u01</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># df -h</span>
</span></span><span style=display:flex><span>Filesystem                          Size  Used Avail Use% Mounted on
</span></span><span style=display:flex><span>devtmpfs                             32G     <span style=color:#666>0</span>   32G   0% /dev
</span></span><span style=display:flex><span>tmpfs                                32G     <span style=color:#666>0</span>   32G   0% /dev/shm
</span></span><span style=display:flex><span>tmpfs                                32G   12M   32G   1% /run
</span></span><span style=display:flex><span>tmpfs                                32G     <span style=color:#666>0</span>   32G   0% /sys/fs/cgroup
</span></span><span style=display:flex><span>/dev/mapper/centos_oracle--19-root   50G  4.0G   47G   8% /
</span></span><span style=display:flex><span>/dev/vda1                          1014M  184M  831M  19% /boot
</span></span><span style=display:flex><span>/dev/mapper/centos_oracle--19-home  129G   33M  129G   1% /home
</span></span><span style=display:flex><span>tmpfs                               6.3G   20K  6.3G   1% /run/user/988
</span></span><span style=display:flex><span>tmpfs                               6.3G     <span style=color:#666>0</span>  6.3G   0% /run/user/0
</span></span><span style=display:flex><span>/dev/vdb                            100G   33M  100G   1% /u01
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># vim /etc/fstab</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic>#</span>
</span></span><span style=display:flex><span>/dev/vdb                /u01                    xfs     defaults        <span style=color:#666>0</span> <span style=color:#666>0</span>
</span></span></code></pre></div><h3 id=网络接口调优>网络接口调优</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ethtool -g enp94s0f0np0  <span style=color:#080;font-style:italic>#查看10G端口，如果没有设置为8K，可用修改</span>
</span></span><span style=display:flex><span>ethtool -G enp94s0f0np0 rx <span style=color:#666>8192</span>
</span></span><span style=display:flex><span>ethtool -G enp94s0f0np0 tx <span style=color:#666>8192</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@smtx-02 20:07:56 smartx<span style=color:#666>]</span><span style=color:#b8860b>$ethtool</span> -g enp94s0f0np0
</span></span><span style=display:flex><span>Ring parameters <span style=color:#a2f;font-weight:700>for</span> enp94s0f0np0:
</span></span><span style=display:flex><span>Pre-set maximums:
</span></span><span style=display:flex><span>RX:             <span style=color:#666>8192</span>
</span></span><span style=display:flex><span>RX Mini:        <span style=color:#666>0</span>
</span></span><span style=display:flex><span>RX Jumbo:       <span style=color:#666>0</span>
</span></span><span style=display:flex><span>TX:             <span style=color:#666>8192</span>
</span></span><span style=display:flex><span>Current hardware settings:
</span></span><span style=display:flex><span>RX:             <span style=color:#666>1024</span>
</span></span><span style=display:flex><span>RX Mini:        <span style=color:#666>0</span>
</span></span><span style=display:flex><span>RX Jumbo:       <span style=color:#666>0</span>
</span></span><span style=display:flex><span>TX:             <span style=color:#666>1024</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@smtx-02 20:08:00 smartx<span style=color:#666>]</span><span style=color:#b8860b>$ethtool</span> -G enp94s0f0np0 rx <span style=color:#666>8192</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@smtx-02 20:08:27 smartx<span style=color:#666>]</span><span style=color:#b8860b>$ethtool</span> -G enp94s0f0np0 tx <span style=color:#666>8192</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@smtx-02 20:08:28 smartx<span style=color:#666>]</span><span style=color:#b8860b>$ethtool</span> -g enp94s0f0np0
</span></span><span style=display:flex><span>Ring parameters <span style=color:#a2f;font-weight:700>for</span> enp94s0f0np0:
</span></span><span style=display:flex><span>Pre-set maximums:
</span></span><span style=display:flex><span>RX:             <span style=color:#666>8192</span>
</span></span><span style=display:flex><span>RX Mini:        <span style=color:#666>0</span>
</span></span><span style=display:flex><span>RX Jumbo:       <span style=color:#666>0</span>
</span></span><span style=display:flex><span>TX:             <span style=color:#666>8192</span>
</span></span><span style=display:flex><span>Current hardware settings:
</span></span><span style=display:flex><span>RX:             <span style=color:#666>8192</span>
</span></span><span style=display:flex><span>RX Mini:        <span style=color:#666>0</span>
</span></span><span style=display:flex><span>RX Jumbo:       <span style=color:#666>0</span>
</span></span><span style=display:flex><span>TX:             <span style=color:#666>8192</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ethtool -g enp24s0f0  <span style=color:#080;font-style:italic>#查看1G端口，如果没有设置为4K，可用修改</span>
</span></span><span style=display:flex><span>ethtool -G enp24s0f0 rx <span style=color:#666>4096</span>
</span></span><span style=display:flex><span>ethtool -G enp24s0f0 tx <span style=color:#666>4096</span>
</span></span></code></pre></div><h3 id=禁用防火墙等系统服务>禁用防火墙等系统服务</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>*systemctl disable firewalld
</span></span><span style=display:flex><span>systemctl stop firewalld
</span></span><span style=display:flex><span>systemctl disable avahi-daemon
</span></span><span style=display:flex><span>systemctl disable bluetooth
</span></span><span style=display:flex><span>systemctl disable cups
</span></span><span style=display:flex><span>systemctl stop NetworkManager.service   
</span></span><span style=display:flex><span>systemctl disable NetworkManager.service*
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># systemctl disable firewalld.service </span>
</span></span><span style=display:flex><span>Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.
</span></span><span style=display:flex><span>Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># systemctl stop firewalld.service </span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># systemctl disable avahi-daemon</span>
</span></span><span style=display:flex><span>Removed symlink /etc/systemd/system/multi-user.target.wants/avahi-daemon.service.
</span></span><span style=display:flex><span>Removed symlink /etc/systemd/system/sockets.target.wants/avahi-daemon.socket.
</span></span><span style=display:flex><span>Removed symlink /etc/systemd/system/dbus-org.freedesktop.Avahi.service.
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># systemctl disable bluetooth.service </span>
</span></span><span style=display:flex><span>Removed symlink /etc/systemd/system/dbus-org.bluez.service.
</span></span><span style=display:flex><span>Removed symlink /etc/systemd/system/bluetooth.target.wants/bluetooth.service.
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># systemctl disable cups.service </span>
</span></span><span style=display:flex><span>Removed symlink /etc/systemd/system/multi-user.target.wants/cups.path.
</span></span><span style=display:flex><span>Removed symlink /etc/systemd/system/multi-user.target.wants/cups.service.
</span></span><span style=display:flex><span>Removed symlink /etc/systemd/system/sockets.target.wants/cups.socket.
</span></span><span style=display:flex><span>Removed symlink /etc/systemd/system/printer.target.wants/cups.service.
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># systemctl disable NetworkManager</span>
</span></span><span style=display:flex><span>Removed symlink /etc/systemd/system/multi-user.target.wants/NetworkManager.service.
</span></span><span style=display:flex><span>Removed symlink /etc/systemd/system/dbus-org.freedesktop.nm-dispatcher.service.
</span></span><span style=display:flex><span>Removed symlink /etc/systemd/system/network-online.target.wants/NetworkManager-wait-online.service.
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># systemctl stop NetworkManager</span>
</span></span></code></pre></div><h3 id=启用系统服务>启用系统服务</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>chmod +x /etc/rc.d/rc.local
</span></span><span style=display:flex><span>systemctl <span style=color:#a2f>enable</span> rc-local
</span></span><span style=display:flex><span>systemctl start rc-local
</span></span><span style=display:flex><span>systemctl is-active rc-local
</span></span><span style=display:flex><span>systemctl <span style=color:#a2f>enable</span> polkit
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># chmod +x /etc/rc.d/rc.local </span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># systemctl enable rc-local</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># systemctl start rc-local.service </span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># systemctl is-active rc-local.service </span>
</span></span><span style=display:flex><span>active
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># systemctl enable polkit</span>
</span></span></code></pre></div><h3 id=安装依赖>安装依赖</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>yum install -y binutils  compat-libstdc++-33  compat-libcap1  elfutils-libelf  elfutils-libelf-devel  gcc  gcc-c++  glibc  glibc-common  glibc-devel  glibc-headers  ksh libaio  libaio-devel  libgcc  libstdc++  libXext  libXtst  kde-l10n-Chinese.noarch  libstdc++-devel  make  xclock  sysstat  libvirt-devel  man  nfs-utils  lsof  expect  unzip  redhat-lsb  openssh-clients  smartmontools  unixODBC  perl  telnet  vsftpd  ntsysv  lsscsi  libX11  libxcb  libXau  libXi  strace  sg3_utils  kexec-tools  net-tools  nmap  lrzsz  tree  dos2unix  ncurses  ncurses-devel  unixODBC-devel
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># rpm -ivh compat-libstdc++-33-3.2.3-72.el7.x86_64.rpm </span>
</span></span><span style=display:flex><span>Preparing...                          <span style=color:#080;font-style:italic>################################# [100%]</span>
</span></span><span style=display:flex><span>        package compat-libstdc++-33-3.2.3-72.el7.x86_64 is already installed
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-style:italic>#这个rpm yum的方法很难装上</span>
</span></span><span style=display:flex><span>链接：https://pan.baidu.com/s/1JG4Nm6t9El_OT6vEeb13pg 
</span></span><span style=display:flex><span>提取码：erl1 
</span></span><span style=display:flex><span>--19c安装软件也在此
</span></span></code></pre></div><ul><li>禁用SELUNIX</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sed -i <span style=color:#b44>&#39;s/SELINUX=enforcing/SELINUX=disabled/&#39;</span> /etc/selinux/config
</span></span><span style=display:flex><span>setenforce <span style=color:#666>0</span>
</span></span></code></pre></div><ul><li>创建scsi_id软连接</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ln -s /lib/udev/scsi_id /sbin/scsi_id
</span></span><span style=display:flex><span>ll /sbin/scsi_id
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># ln -s /lib/udev/scsi_id /sbin/scsi_id</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># ll /sbin/scsi_id </span>
</span></span><span style=display:flex><span>lrwxrwxrwx. <span style=color:#666>1</span> root root <span style=color:#666>17</span> May <span style=color:#666>24</span> 20:17 /sbin/scsi_id -&gt; /lib/udev/scsi_id
</span></span></code></pre></div><h3 id=禁用透明大页>禁用透明大页</h3><p>原因</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>- Huge pages（标准大页）和Transparent Hugepages（透明大页）
</span></span><span style=display:flex><span>    - 透明HugePages内存与标准HugePages内存不同，因为内核khugepaged线程在运行时动态分配内存。
</span></span><span style=display:flex><span>    - 标准HugePages内存在启动时预先分配，并且在运行时不会更改。
</span></span><span style=display:flex><span>    - 透明Hugepages可能会在运行时导致内存分配延迟。
</span></span><span style=display:flex><span>    - 为避免性能问题，Oracle建议您在所有Oracle数据库服务器上禁用透明HugePages。
</span></span><span style=display:flex><span>    - Oracle建议使用标准HugePages来提高性能
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;### disable transparent_hugepage&#34;</span>  &gt;&gt;/etc/rc.local
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;if test -f /sys/kernel/mm/transparent_hugepage/enabled; then &#34;</span>  &gt;&gt;/etc/rc.local
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled&#34;</span>  &gt;&gt;/etc/rc.local
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;fi&#34;</span>  &gt;&gt;/etc/rc.local
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;if test -f /sys/kernel/mm/transparent_hugepage/defrag; then&#34;</span>  &gt;&gt;/etc/rc.local
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;echo never &gt; /sys/kernel/mm/transparent_hugepage/defrag&#34;</span>  &gt;&gt;/etc/rc.local
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;fi&#34;</span>  &gt;&gt;/etc/rc.local
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>chmod +x /etc/rc.local
</span></span><span style=display:flex><span><span style=color:#a2f>source</span> /etc/rc.local
</span></span><span style=display:flex><span>sh /etc/rc.local
</span></span><span style=display:flex><span>cat /sys/kernel/mm/transparent_hugepage/defrag
</span></span></code></pre></div><ul><li>创建用户组</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>groupadd -g <span style=color:#666>1001</span> oinstall 
</span></span><span style=display:flex><span>groupadd -g <span style=color:#666>1002</span> dba 
</span></span><span style=display:flex><span>groupadd -g <span style=color:#666>1003</span> oper 
</span></span><span style=display:flex><span>groupadd -g <span style=color:#666>1004</span> asmadmin 
</span></span><span style=display:flex><span>groupadd -g <span style=color:#666>1005</span> asmoper 
</span></span><span style=display:flex><span>groupadd -g <span style=color:#666>1006</span> asmdba  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>useradd -u <span style=color:#666>1001</span> -g oinstall -G dba,asmadmin,asmdba,oper oracle 
</span></span><span style=display:flex><span>useradd -u <span style=color:#666>1002</span> -g oinstall -G asmadmin,asmdba,asmoper,oper,dba grid
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>chage -M -1 oracle
</span></span><span style=display:flex><span>chage -M -1 grid
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;cisco123&#34;</span> |passwd oracle --stdin
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;cisco123&#34;</span> |passwd grid --stdin
</span></span></code></pre></div><ul><li>修改内核参数</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat&gt;&gt;/etc/sysctl.conf<span style=color:#b44>&lt;&lt;EOF
</span></span></span><span style=display:flex><span><span style=color:#b44>fs.aio-max-nr = 1048576
</span></span></span><span style=display:flex><span><span style=color:#b44>fs.file-max = 6815744
</span></span></span><span style=display:flex><span><span style=color:#b44>kernel.shmall = 16443117
</span></span></span><span style=display:flex><span><span style=color:#b44>kernel.shmmax = 53880805785
</span></span></span><span style=display:flex><span><span style=color:#b44>kernel.shmmni = 4096
</span></span></span><span style=display:flex><span><span style=color:#b44>kernel.sem = 250 256000 100 1024
</span></span></span><span style=display:flex><span><span style=color:#b44>net.ipv4.ip_local_port_range = 9000 65500  
</span></span></span><span style=display:flex><span><span style=color:#b44>net.core.rmem_default = 262144
</span></span></span><span style=display:flex><span><span style=color:#b44>net.core.rmem_max = 10485860
</span></span></span><span style=display:flex><span><span style=color:#b44>net.core.wmem_default = 262144
</span></span></span><span style=display:flex><span><span style=color:#b44>net.core.wmem_max = 10485860
</span></span></span><span style=display:flex><span><span style=color:#b44>vm.min_free_kbytes = 524288
</span></span></span><span style=display:flex><span><span style=color:#b44>
</span></span></span><span style=display:flex><span><span style=color:#b44>net.ipv4.ipfrag_high_thresh = 16777216
</span></span></span><span style=display:flex><span><span style=color:#b44>net.ipv4.ipfrag_low_thresh = 15728640
</span></span></span><span style=display:flex><span><span style=color:#b44>
</span></span></span><span style=display:flex><span><span style=color:#b44>vm.swappiness = 0
</span></span></span><span style=display:flex><span><span style=color:#b44>vm.dirty_background_ratio = 5
</span></span></span><span style=display:flex><span><span style=color:#b44>vm.dirty_ratio = 15
</span></span></span><span style=display:flex><span><span style=color:#b44>vm.dirty_expire_centisecs = 500
</span></span></span><span style=display:flex><span><span style=color:#b44>vm.dirty_writeback_centisecs = 100 
</span></span></span><span style=display:flex><span><span style=color:#b44>vm.overcommit_memory = 1
</span></span></span><span style=display:flex><span><span style=color:#b44>EOF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sysctl -p
</span></span></code></pre></div><p>kernel.shmall = memory size / pagesize （这个pagesize是OS的，可以通过getconf PAGESIZE得知，可以通过执行以下命令获取到）</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;`cat /proc/meminfo | grep &#34;</span>MemTotal<span style=color:#b44>&#34; | awk &#39;{print </span><span style=color:#b8860b>$2</span><span style=color:#b44>}&#39;` / (`getconf PAGESIZE` / 1024)&#34;</span> | bc
</span></span></code></pre></div><p>kernel.shmmax 推荐: 1/2 memory &lt; shmmax &lt;= memory - 1. Limit max SGA size.</p><p>（注意，这里的单位是byte，可以通过下面命令计算&ndash;此处示例以物理内存的80%进行设置：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;`cat /proc/meminfo | grep &#34;</span>MemTotal<span style=color:#b44>&#34; | awk &#39;{print </span><span style=color:#b8860b>$2</span><span style=color:#b44>}&#39;` * 1024 * 0.8&#34;</span> | bc  | sed <span style=color:#b44>&#39;s#\..*$##&#39;</span> 
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># echo &#34;`cat /proc/meminfo | grep &#34;MemTotal&#34; | awk &#39;{print $2}&#39;` / (`getconf PAGESIZE` / 1024)&#34; | bc </span>
</span></span><span style=display:flex><span><span style=color:#666>16443117</span>
</span></span><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># echo &#34;`cat /proc/meminfo | grep &#34;MemTotal&#34; | awk &#39;{print $2}&#39;` * 1024 * 0.8&#34; | bc  | sed &#39;s#\..*$##&#39; </span>
</span></span><span style=display:flex><span><span style=color:#666>53880805785</span>
</span></span></code></pre></div><blockquote><p>注：
对于OLTP类，Oracle数据库：SGA=系统内存*80%<em>70%，PGA=系统内存</em>80%<em>20%
对于OLAP类，Oracle数据库：SGA=系统内存</em>80%<em>50%，PGA=系统内存</em>80%*50%</p></blockquote><p>别忘了执行命令生效：sysctl -p</p><ul><li>修改Limits配置</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cp /etc/security/limits.conf /etc/security/limits.conf.<span style=color:#b44>`</span>date +%Y%m%d<span style=color:#b44>`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34; grid soft nofile 1024
</span></span></span><span style=display:flex><span><span style=color:#b44>grid hard nofile 65536
</span></span></span><span style=display:flex><span><span style=color:#b44>grid soft stack 10240
</span></span></span><span style=display:flex><span><span style=color:#b44>grid hard stack 32768
</span></span></span><span style=display:flex><span><span style=color:#b44>grid soft nproc 4096
</span></span></span><span style=display:flex><span><span style=color:#b44>grid hard nproc 16384
</span></span></span><span style=display:flex><span><span style=color:#b44>oracle soft nofile 1024
</span></span></span><span style=display:flex><span><span style=color:#b44>oracle hard nofile 65536
</span></span></span><span style=display:flex><span><span style=color:#b44>oracle soft stack 10240
</span></span></span><span style=display:flex><span><span style=color:#b44>oracle hard stack 32768
</span></span></span><span style=display:flex><span><span style=color:#b44>oracle soft nproc 4096
</span></span></span><span style=display:flex><span><span style=color:#b44>oracle hard nproc 16384
</span></span></span><span style=display:flex><span><span style=color:#b44>root soft nproc 2047 &#34;</span> &gt;&gt; /etc/security/limits.conf
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;session required pam_limits.so&#34;</span>   &gt;&gt;/etc/pam.d/login
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;NOZEROCONF=yes&#34;</span> &gt;&gt; /etc/sysconfig/network
</span></span></code></pre></div><ul><li><strong>修改默认shell启动配置</strong></li></ul><p>修改/etc/profile，添加如下设置：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat &gt;&gt;/etc/profile <span style=color:#b44>&lt;&lt;EOF
</span></span></span><span style=display:flex><span><span style=color:#b44> 
</span></span></span><span style=display:flex><span><span style=color:#b44>if [ \$USER = &#34;oracle&#34; ] || [ \$USER = &#34;grid&#34; ]; then
</span></span></span><span style=display:flex><span><span style=color:#b44> if [ \$SHELL = &#34;/bin/ksh&#34; ]; then
</span></span></span><span style=display:flex><span><span style=color:#b44>    ulimit -p 16384
</span></span></span><span style=display:flex><span><span style=color:#b44>    ulimit -n 65536
</span></span></span><span style=display:flex><span><span style=color:#b44> else
</span></span></span><span style=display:flex><span><span style=color:#b44>    ulimit -u 16384 -n 65536
</span></span></span><span style=display:flex><span><span style=color:#b44> fi
</span></span></span><span style=display:flex><span><span style=color:#b44>umask 022
</span></span></span><span style=display:flex><span><span style=color:#b44>fi
</span></span></span><span style=display:flex><span><span style=color:#b44>EOF</span>
</span></span></code></pre></div><p>修改/etc/csh.login，添加如下设置：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat &gt;&gt;/etc/csh.log <span style=color:#b44>&lt;&lt;EOF
</span></span></span><span style=display:flex><span><span style=color:#b44>
</span></span></span><span style=display:flex><span><span style=color:#b44>if ( \$USER = &#34;oracle&#34; || \$USER = &#34;grid&#34; ) then
</span></span></span><span style=display:flex><span><span style=color:#b44>limit maxproc 16384
</span></span></span><span style=display:flex><span><span style=color:#b44>limit descriptors 65536
</span></span></span><span style=display:flex><span><span style=color:#b44>endif
</span></span></span><span style=display:flex><span><span style=color:#b44>EOF</span>
</span></span></code></pre></div><ul><li>创建目录</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir -p /u01/app/oraInventory
</span></span><span style=display:flex><span>chown -R grid:oinstall /u01/app/oraInventory
</span></span><span style=display:flex><span>chmod -R <span style=color:#666>775</span> /u01/app/oraInventory
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mkdir -p /u01/app/grid
</span></span><span style=display:flex><span>chown -R grid:oinstall /u01/app/grid
</span></span><span style=display:flex><span>chmod -R <span style=color:#666>775</span> /u01/app/grid
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mkdir -p /u01/app/19c/grid
</span></span><span style=display:flex><span>chown -R grid:oinstall /u01/app/19c/grid
</span></span><span style=display:flex><span>chmod -R <span style=color:#666>775</span> /u01/app/19c/grid
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mkdir -p /u01/app/oracle
</span></span><span style=display:flex><span>chown -R oracle:oinstall /u01/app/oracle
</span></span><span style=display:flex><span>chmod -R <span style=color:#666>775</span> /u01/app/oracle
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mkdir -p /u01/app/oracle/product/19c/db_1
</span></span><span style=display:flex><span>chown -R oracle:oinstall /u01/app/oracle/product/19c/db_1
</span></span><span style=display:flex><span>chmod -R <span style=color:#666>775</span> /u01/app/oracle/product/19c/db_1
</span></span></code></pre></div><ul><li><strong>设置grid 环境变量</strong></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic>#vim /home/grid/.bash_profile</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>ORACLE_BASE</span><span style=color:#666>=</span>/u01/app/grid
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>ORACLE_SID</span><span style=color:#666>=</span>+ASM1 
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>ORACLE_HOME</span><span style=color:#666>=</span>/home/u01/app/19c/grid
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>PATH</span><span style=color:#666>=</span><span style=color:#b8860b>$ORACLE_HOME</span>/bin:<span style=color:#b8860b>$ORACLE_HOME</span>/OPatch:<span style=color:#b8860b>$PATH</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>NAME</span><span style=color:#666>=</span>oracle-19
</span></span><span style=display:flex><span><span style=color:#b8860b>PS1</span><span style=color:#666>=</span><span style=color:#b44>&#34;[</span><span style=color:#b8860b>$NAME</span><span style=color:#b44>:</span><span style=color:#b8860b>$LOGNAME</span><span style=color:#b44>]:\${PWD}&gt;&#34;</span>  
</span></span><span style=display:flex><span><span style=color:#a2f>umask</span> <span style=color:#666>022</span>
</span></span></code></pre></div><h3 id=设置oracle-环境变量><strong>设置oracle 环境变量</strong></h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic>#vim /home/oracle/.bash_profile</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>ORACLE_SID</span><span style=color:#666>=</span>odb
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>ORACLE_BASE</span><span style=color:#666>=</span>/u01/app/oracle
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>ORACLE_HOME</span><span style=color:#666>=</span><span style=color:#b8860b>$ORACLE_BASE</span>/product/19c/db_1
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>LD_LIBRARY_PATH</span><span style=color:#666>=</span><span style=color:#b8860b>$ORACLE_HOME</span>/lib:/lib:/usr/lib
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>PATH</span><span style=color:#666>=</span><span style=color:#b8860b>$ORACLE_HOME</span>/bin:<span style=color:#b8860b>$ORACLE_HOME</span>/OPatch:<span style=color:#b8860b>$PATH</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>TMP</span><span style=color:#666>=</span>/tmp
</span></span><span style=display:flex><span><span style=color:#a2f>export</span> <span style=color:#b8860b>TMPDIR</span><span style=color:#666>=</span><span style=color:#b8860b>$TMP</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b8860b>NAME</span><span style=color:#666>=</span>oracle-19
</span></span><span style=display:flex><span><span style=color:#b8860b>PS1</span><span style=color:#666>=</span><span style=color:#b44>&#34;[</span><span style=color:#b8860b>$NAME</span><span style=color:#b44>:</span><span style=color:#b8860b>$LOGNAME</span><span style=color:#b44>]:\${PWD}&gt;&#34;</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a2f>umask</span> <span style=color:#666>022</span>
</span></span></code></pre></div><ul><li><strong>检查操作系统时区</strong></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># date</span>
</span></span><span style=display:flex><span>Tue May <span style=color:#666>24</span> 21:54:45 CST <span style=color:#666>2022</span>
</span></span></code></pre></div><ul><li><strong>设置NOZEROCON</strong></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;NOZEROCONF=yes&#34;</span> &gt;&gt; /etc/sysconfig/network
</span></span></code></pre></div><ul><li>修改<strong>grid 和 oracle 进程数量限制</strong></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;oracle soft nproc 16384&#34;</span>  &gt;&gt;/etc/security/limits.d/20-nproc.conf
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;grid soft nproc 16384&#34;</span>    &gt;&gt;/etc/security/limits.d/20-nproc.conf
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;oracle hard nproc 16384&#34;</span>  &gt;&gt;/etc/security/limits.d/20-nproc.conf
</span></span><span style=display:flex><span><span style=color:#a2f>echo</span> <span style=color:#b44>&#34;grid hard nproc 16384&#34;</span>    &gt;&gt;/etc/security/limits.d/20-nproc.conf
</span></span></code></pre></div><ul><li><strong>修改GRUB参数</strong></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic>#vim /etc/default/grub</span>
</span></span></code></pre></div><p>在GRUB_CMDLINE_LINUX后增加</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b8860b>iommu</span><span style=color:#666>=</span>soft <span style=color:#b8860b>elevator</span><span style=color:#666>=</span>noop <span style=color:#b8860b>apm</span><span style=color:#666>=</span>off <span style=color:#b8860b>transparent_hugepage</span><span style=color:#666>=</span>never <span style=color:#b8860b>numa</span><span style=color:#666>=</span>off <span style=color:#b8860b>powersaved</span><span style=color:#666>=</span>off <span style=color:#b8860b>spectre_v2</span><span style=color:#666>=</span>off nopti
</span></span></code></pre></div><p>保存</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic>#grub2-mkconfig -o /boot/grub2/grub.cfg</span>
</span></span></code></pre></div><ul><li></li></ul><h3 id=配置磁盘根据配置修改><strong>配置磁盘(根据配置修改)</strong></h3><p>根据系统使用存储的不同而配置磁盘，进行磁盘名称持久化的方法略有不同。</p><p>编辑 /etc/udev/rules.d/99-oracle-asmdevice.rules</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic>#vim /etc/udev/rules.d/99-oracle-asmdevice.rules</span>
</span></span></code></pre></div><p>本次部署的虚拟机的虚拟磁盘选择Virtio总线方式，可以发挥更好的I/O性能，</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#666>[</span>root@oracle-19 ~<span style=color:#666>]</span><span style=color:#080;font-style:italic># lsblk</span>
</span></span><span style=display:flex><span>NAME                       MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
</span></span><span style=display:flex><span>sr0                         11:0    <span style=color:#666>1</span>  4.4G  <span style=color:#666>0</span> rom  /run/media/grid/CentOS <span style=color:#666>7</span> x86_64
</span></span><span style=display:flex><span>vda                        252:0    <span style=color:#666>0</span>  200G  <span style=color:#666>0</span> disk 
</span></span><span style=display:flex><span>├─vda1                     252:1    <span style=color:#666>0</span>    1G  <span style=color:#666>0</span> part /boot
</span></span><span style=display:flex><span>└─vda2                     252:2    <span style=color:#666>0</span>  199G  <span style=color:#666>0</span> part 
</span></span><span style=display:flex><span>  ├─centos_oracle--19-root 253:0    <span style=color:#666>0</span>   50G  <span style=color:#666>0</span> lvm  /
</span></span><span style=display:flex><span>  ├─centos_oracle--19-swap 253:1    <span style=color:#666>0</span>   20G  <span style=color:#666>0</span> lvm  <span style=color:#666>[</span>SWAP<span style=color:#666>]</span>
</span></span><span style=display:flex><span>  └─centos_oracle--19-home 253:2    <span style=color:#666>0</span>  129G  <span style=color:#666>0</span> lvm  /home
</span></span><span style=display:flex><span>vdb                        252:16   <span style=color:#666>0</span>  100G  <span style=color:#666>0</span> disk /u01
</span></span><span style=display:flex><span>vdc                        252:32   <span style=color:#666>0</span>   80G  <span style=color:#666>0</span> disk 
</span></span><span style=display:flex><span>vdd                        252:48   <span style=color:#666>0</span>   80G  <span style=color:#666>0</span> disk 
</span></span><span style=display:flex><span>vde                        252:64   <span style=color:#666>0</span>   80G  <span style=color:#666>0</span> disk 
</span></span><span style=display:flex><span>vdf                        252:80   <span style=color:#666>0</span>   80G  <span style=color:#666>0</span> disk 
</span></span><span style=display:flex><span>vdg                        252:96   <span style=color:#666>0</span>   40G  <span style=color:#666>0</span> disk 
</span></span><span style=display:flex><span>vdh                        252:112  <span style=color:#666>0</span>   40G  <span style=color:#666>0</span> disk 
</span></span><span style=display:flex><span>vdi                        252:128  <span style=color:#666>0</span>   40G  <span style=color:#666>0</span> disk 
</span></span><span style=display:flex><span>vdj                        252:144  <span style=color:#666>0</span>   40G  <span style=color:#666>0</span> disk
</span></span></code></pre></div><p><strong>具体格式为:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vdc&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vdd&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vde&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vdf&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vdg&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vdh&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vdi&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vdj&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span></code></pre></div><p>执行配置：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic>#/sbin/udevadm trigger --type=devices --action=change</span>
</span></span></code></pre></div><p>reboot</p><h2 id=grid-安装图形化安装><strong>GRID 安装(图形化安装)</strong></h2><h3 id=解压安装介质root><strong>解压安装介质,root</strong></h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>unzip V982068-01.zip -d /u01/app/19c/grid/
</span></span><span style=display:flex><span>chown -R grid:oinstall /u01/app/19c/grid/
</span></span><span style=display:flex><span>chmod +x -R /u01/app/19c/grid/
</span></span></code></pre></div><p>注：V982068-01.zip是GRID安装介质</p><h3 id=以grid用户登陆><strong>以grid用户登陆</strong></h3><p><strong>图形化安装Grid</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#a2f>cd</span> /u01/app/19c/grid
</span></span><span style=display:flex><span>./gridSetup.sh
</span></span></code></pre></div><p><img src=https://img-blog.csdnimg.cn/a4e1c9754c81461db44eb998106ff5b5.png alt=在这里插入图片描述></p><h3 id=第1步配置选项><strong>第1步：配置选项</strong></h3><p><img src=https://img-blog.csdnimg.cn/2351016f0d7f44f988810ca7634f841a.png alt=在这里插入图片描述></p><h3 id=第2步选择磁盘组><strong>第2步：选择磁盘组</strong></h3><p><img src=https://img-blog.csdnimg.cn/03c9cb736ae04392b0e3c7662fb31db0.png alt=在这里插入图片描述></p><p>更改搜索路径为 /dev/vd*</p><p><img src=https://img-blog.csdnimg.cn/201c78b548a140cd8aba155d5b5be1e2.png alt=在这里插入图片描述></p><p>冗余：选择 外部</p><p>选择磁盘：勾选需要的磁盘
<img src=https://img-blog.csdnimg.cn/99466c4a77f04e6fad368d42c5e68f51.png alt=在这里插入图片描述></p><h3 id=第3步指定asm口令><strong>第3步：指定ASM口令</strong></h3><p><img src=https://img-blog.csdnimg.cn/982ceda68a7f4aabb5efab6b7cd2b863.png alt=在这里插入图片描述></p><p>对这些账户使用同一口令：xxx123</p><h3 id=第4步管理选项><strong>第4步：管理选项</strong></h3><p><img src=https://img-blog.csdnimg.cn/84bcee3705264447b200a3e96d17efb9.png alt=在这里插入图片描述></p><p>不用注册，略过</p><h3 id=第5步特权操作系统组><strong>第5步：特权操作系统组</strong></h3><p><img src=https://img-blog.csdnimg.cn/1a6b89488d764a7f9d53e8c6d9f3a540.png alt=在这里插入图片描述></p><h3 id=第6步指定安装位置><strong>第6步：指定安装位置</strong></h3><p><img src=https://img-blog.csdnimg.cn/8b2819e9a3d64278a76ec01949896ba6.png alt=在这里插入图片描述></p><h3 id=第7步创建产品清单><strong>第7步：创建产品清单</strong></h3><p><img src=https://img-blog.csdnimg.cn/468437b3f7f046e38b70da497d0f2f85.png alt=在这里插入图片描述></p><h3 id=第8步root脚本执行配置><strong>第8步：Root脚本执行配置</strong></h3><p><img src=https://img-blog.csdnimg.cn/0febed23261649f0a2db2e0ce611327a.png alt=在这里插入图片描述></p><h3 id=第9步执行先决条件检查><strong>第9步：执行先决条件检查</strong></h3><p><img src=https://img-blog.csdnimg.cn/abcb8525e6d943baa143e1216f35bf26.png alt=在这里插入图片描述></p><p>交换空间大小告警可忽略（不使用交换空间）</p><p>包：cvuqdisk-1.0.10.1 本次部署不使用，告警可忽略
<img src=https://img-blog.csdnimg.cn/2c388d34107449d3a14cc4572b908852.png alt=在这里插入图片描述></p><p>忽略告警，选择继续</p><p><img src=https://img-blog.csdnimg.cn/0eaf57860fad40539ebc785292a23bc5.png alt=在这里插入图片描述></p><h3 id=第10步-概要><strong>第10步 概要</strong></h3><p><img src=https://img-blog.csdnimg.cn/6e3f39c1b93d483c87eac9125f02d06a.png alt=在这里插入图片描述></p><h3 id=第11步-安装产品><strong>第11步 安装产品</strong></h3><p><img src=https://img-blog.csdnimg.cn/53349db78d3243e19ffc9434514357e9.png alt=在这里插入图片描述></p><p>执行配置脚本：</p><p><img src=https://img-blog.csdnimg.cn/50c2363074224dd593df77e6bb9fe4e1.png alt=在这里插入图片描述></p><p>执行1：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/u01/app/oraInventory/orainstRoot.sh
</span></span></code></pre></div><p><img src=https://img-blog.csdnimg.cn/384c48e2597845119d5852a9dde952a3.png alt=在这里插入图片描述></p><p>执行2：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/u01/app/19c/grid/root.sh
</span></span></code></pre></div><p><img src=https://img-blog.csdnimg.cn/5a7bab4c88174e69b287a42e6aa3873b.png alt=在这里插入图片描述></p><p>继续执行：
<img src=https://img-blog.csdnimg.cn/d6c05ee36fcd45b58185a8b57bea81dc.png alt=在这里插入图片描述></p><h3 id=第12步-完成><strong>第12步 完成</strong></h3><p><img src=https://img-blog.csdnimg.cn/ebd3a1aec49341e89015561a127392c2.png alt=在这里插入图片描述></p><h2 id=asm磁盘管理><strong>ASM磁盘管理</strong></h2><h3 id=前面安装grid的作用就是可用asm使用磁盘>前面安装Grid的作用就是可用ASM使用磁盘</h3><p><strong>在VM中增加磁盘</strong></p><p>在DBVM增加4块磁盘用于REDO log文件。</p><p>在DBVM的操作系统OS中显示为：vdg、vdh、vdi、vdj
<img src=https://img-blog.csdnimg.cn/08e7e568a4eb443db7429c985826fffc.png alt=在这里插入图片描述></p><h3 id=配置磁盘><strong>配置磁盘</strong></h3><p>根据系统使用存储的不同而配置磁盘，进行磁盘名称持久化的方法略有不同。</p><p>编辑 /etc/udev/rules.d/99-oracle-asmdevice.rules</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#080;font-style:italic>#vim /etc/udev/rules.d/99-oracle-asmdevice.rules</span>
</span></span></code></pre></div><p>本次部署的虚拟机的虚拟磁盘选择Virtio总线方式，可以发挥更好的I/O性能，</p><p><strong>具体格式为:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vdc&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vdd&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vde&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vdf&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vdg&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vdh&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vdi&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span><span style=display:flex><span><span style=color:#b8860b>SUBSYSTEM</span><span style=color:#666>==</span><span style=color:#b44>&#34;block&#34;</span>,KERNEL<span style=color:#666>==</span><span style=color:#b44>&#34;vdj&#34;</span>,GROUP<span style=color:#666>=</span><span style=color:#b44>&#34;asmadmin&#34;</span>,OWNER<span style=color:#666>=</span><span style=color:#b44>&#34;grid&#34;</span>,MODE<span style=color:#666>=</span><span style=color:#b44>&#34;0660&#34;</span>
</span></span></code></pre></div><p><img src=https://img-blog.csdnimg.cn/58a3a41e9cdf4166ba7332db4bac1846.png alt=在这里插入图片描述></p><p>执行配置：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/sbin/udevadm trigger --type<span style=color:#666>=</span>devices --action<span style=color:#666>=</span>change
</span></span></code></pre></div><h3 id=asm磁盘组配置><strong>ASM磁盘组配置</strong></h3><p>以grid用户登陆DBVM</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#a2f>cd</span> /u01/app/19c/grid/bin
</span></span><span style=display:flex><span>./asmca
</span></span></code></pre></div><h3 id=运行asmca><strong>运行asmca</strong></h3><p><img src=https://img-blog.csdnimg.cn/0934249d324e4005af8f1b6bb483c200.png alt=在这里插入图片描述></p><h3 id=选择磁盘组><strong>选择磁盘组</strong></h3><p><img src=https://img-blog.csdnimg.cn/57738dc5a2fa4a87ba0b9e9c7d17cd56.png alt=在这里插入图片描述></p><h3 id=创建磁盘组><strong>创建磁盘组</strong></h3><p><img src=https://img-blog.csdnimg.cn/fc736064d4cf4158bb91dbfc196dc139.png alt=在这里插入图片描述></p><p>选择之前配置的4块redo磁盘vdg、vdh、vdi、vdj。</p><p>选用 外部 冗余模式。</p><h3 id=执行操作><strong>执行操作</strong></h3><p>点击确定，执行操作</p><h3 id=完成><strong>完成</strong></h3><p><img src=https://img-blog.csdnimg.cn/bc5ac74086c141e0b3ebf90a43207d5c.png alt=在这里插入图片描述>
完成后，可以看到新建的REDO磁盘组。
<img src=https://img-blog.csdnimg.cn/7376a4f7e3d1499b944ce04e0dfa53db.png alt=在这里插入图片描述></p><ul><li><strong>安装Oracle数据库</strong></li></ul><h3 id=解压安装介质oracle-login><strong>解压安装介质,oracle login</strong></h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>unzip V982063-01.zip -d /u01/app/oracle/product/19c/db_1/
</span></span></code></pre></div><h3 id=图形化安装oracle数据库><strong>图形化安装Oracle数据库</strong></h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#a2f>cd</span> /u01/app/oracle/product/19c/db_1/
</span></span><span style=display:flex><span>./runInstaller
</span></span></code></pre></div><h3 id=第1步-配置选项><strong>第1步 配置选项</strong></h3><p>选择 仅设置软件
<img src=https://img-blog.csdnimg.cn/01d90bce4349465b82a47e93ca3c9246.png alt=在这里插入图片描述></p><h3 id=第2步-数据库安装选项><strong>第2步 数据库安装选项</strong></h3><p><img src=https://img-blog.csdnimg.cn/838ae8ec59e44cb59f5807b96b48eee6.png alt=在这里插入图片描述></p><p>选择单实例数据库安装</p><h3 id=第3步-数据库版本><strong>第3步 数据库版本</strong></h3><p>选择 企业版</p><p><img src=https://img-blog.csdnimg.cn/866036429dd44b119eafd7d6229c1563.png alt=在这里插入图片描述></p><h3 id=第4步-指定安装位置><strong>第4步 指定安装位置</strong></h3><p><img src=https://img-blog.csdnimg.cn/1c6dd21e72d9452f8b95ebd2125f1112.png alt=在这里插入图片描述></p><h3 id=第5步-已授权的操作系统组><strong>第5步 已授权的操作系统组</strong></h3><p><img src=https://img-blog.csdnimg.cn/47c58ff014954993ab7b623992a03674.png alt=在这里插入图片描述></p><h3 id=第6步-root脚本执行><strong>第6步 Root脚本执行</strong></h3><p><img src=https://img-blog.csdnimg.cn/f7afdea762bb4656a04847e4e4ee5084.png alt=在这里插入图片描述></p><h3 id=第7步-先决条件检查><strong>第7步 先决条件检查</strong></h3><p><img src=https://img-blog.csdnimg.cn/fdd8fbb6d8f24278a10249ba02cfda08.png alt=在这里插入图片描述></p><p>交换空间大小告警可忽略（不使用交换空间）</p><p><img src=https://img-blog.csdnimg.cn/97918b1c95b3443186b94071da4db6e6.png alt=在这里插入图片描述></p><p><img src=https://img-blog.csdnimg.cn/9a6d76f39333437f927dc217a96808e9.png alt=在这里插入图片描述>
选择 是</p><h3 id=第8步-概要><strong>第8步 概要</strong></h3><p><img src=https://img-blog.csdnimg.cn/9dac691ca09c450fa300984a72ab91b5.png alt=在这里插入图片描述></p><h3 id=第9步-安装产品><strong>第9步 安装产品</strong></h3><p><img src=https://img-blog.csdnimg.cn/71bd22a96a704b2c8d787371700cd7f4.png alt=在这里插入图片描述>
<img src=https://img-blog.csdnimg.cn/1c4d89ff11084537bdf578930afb6471.png alt=在这里插入图片描述></p><p>执行配置脚本
<img src=https://img-blog.csdnimg.cn/5a2b78e151a9475caca491637aec85e9.png alt=在这里插入图片描述></p><h3 id=第10步-完成><strong>第10步 完成</strong></h3><p><img src=https://img-blog.csdnimg.cn/0ee1513c8d1a4f6f8f1ed2548598f63f.png alt=在这里插入图片描述></p><h2 id=用dbca创建数据库><strong>用DBCA创建数据库</strong></h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#a2f>cd</span> /u01/app/oracle/product/19c/db_1/bin
</span></span><span style=display:flex><span>./dbca
</span></span></code></pre></div><h3 id=图形化创建数据库><strong>图形化创建数据库</strong></h3><p><img src=https://img-blog.csdnimg.cn/47e01159a62248cbb1654b89a3a34173.png alt=在这里插入图片描述></p><h3 id=第1步-选择数据库操作><strong>第1步 选择数据库操作</strong></h3><p><img src=https://img-blog.csdnimg.cn/48e67994741540338d0d52f748dbeb5e.png alt=在这里插入图片描述></p><p>选择 创建数据库</p><h3 id=第2步-选择数据库创建模式><strong>第2步 选择数据库创建模式</strong></h3><p><img src=https://img-blog.csdnimg.cn/65ac5c0089bb44aba03591bee2f8ef92.png alt=在这里插入图片描述></p><p>选择 高级配置</p><h3 id=第3步-选择数据库部署类型><strong>第3步 选择数据库部署类型</strong></h3><p><img src=https://img-blog.csdnimg.cn/b2d159b94fb04c568965554efc9686d8.png alt=在这里插入图片描述></p><p>选择 一般用途或事务处理</p><h3 id=第4步-指定数据库标识详细信息><strong>第4步 指定数据库标识详细信息</strong></h3><p><img src=https://img-blog.csdnimg.cn/d641a35589f34335a183bbfd712e48b6.png alt=在这里插入图片描述></p><p>填写 全局数据库名:odb</p><p>PDB名称：pdb01</p><h3 id=第5步-选择数据库存储选项><strong>第5步 选择数据库存储选项</strong></h3><p><img src=https://img-blog.csdnimg.cn/4b87222bdf1c4b3da70edc451eea035b.png alt=在这里插入图片描述></p><p>选择将以下项用于数据库存储属性</p><h3 id=第6步-快速恢复选项><strong>第6步 快速恢复选项</strong></h3><p><img src=https://img-blog.csdnimg.cn/9d1442b0a0ed4588aaa1c30590a49504.png alt=在这里插入图片描述></p><h3 id=第7步-指定网络配置详细信息><strong>第7步 指定网络配置详细信息</strong></h3><p><img src=https://img-blog.csdnimg.cn/b7355cade382418ab744d7c7ed52f4cd.png alt=在这里插入图片描述></p><h3 id=第8步-选择oracle-data-vault配置选项><strong>第8步 选择Oracle Data Vault配置选项</strong></h3><p><img src=https://img-blog.csdnimg.cn/47a3d91904544a1aa74fd78559917bb8.png alt=在这里插入图片描述></p><h3 id=第9步-指定配置选项><strong>第9步 指定配置选项</strong></h3><p><img src=https://img-blog.csdnimg.cn/a76ef7c723fb4b78a1bd0d020d0b2b03.png alt=在这里插入图片描述></p><p>配置内存为VM总内存的80%（SGA、PGA自动分配）</p><p><img src=https://img-blog.csdnimg.cn/690be404acfd4ffca294a09f0ab881ee.png alt=在这里插入图片描述></p><h3 id=第10步-指定管理选项><strong>第10步 指定管理选项</strong></h3><p><img src=https://img-blog.csdnimg.cn/92dcd6d3a4ef4250b32ff856fa5eefa4.png alt=在这里插入图片描述></p><h3 id=第11步-指定数控用户身份证明><strong>第11步 指定数控用户身份证明</strong></h3><p><img src=https://img-blog.csdnimg.cn/966bfba723754699a333c416330937bd.png alt=在这里插入图片描述></p><p>选择 所有账户使用同一管理口令： xxx123</p><h3 id=第12步-选择数据库创建选项><strong>第12步 选择数据库创建选项</strong></h3><p><img src=https://img-blog.csdnimg.cn/ad2daa59cca34c6fbd9c5add5ec3b4fc.png alt=在这里插入图片描述></p><h3 id=第13步-概要><strong>第13步 概要</strong></h3><p><img src=https://img-blog.csdnimg.cn/b0b8647098f24972a8539b1450af2706.png alt=在这里插入图片描述></p><h3 id=第14步-进度页><strong>第14步 进度页</strong></h3><p><img src=https://img-blog.csdnimg.cn/5d172f87fea94e7f91dcc86d8efbd700.png alt=在这里插入图片描述></p><h3 id=第15步-完成><strong>第15步 完成</strong></h3><p><img src=https://img-blog.csdnimg.cn/8f2be16a34c74397a047b8bb374fec6a.png alt=在这里插入图片描述></p><ul><li><strong>检查测试</strong></li></ul><h3 id=连接oracle数据库><strong>连接Oracle数据库</strong></h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sqlplus / as sysdba
</span></span></code></pre></div><h3 id=查看连接数据库名称><strong>查看连接数据库名称</strong></h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>SQL&gt; show con_name;
</span></span></code></pre></div><h3 id=查看全局数据库名><strong>查看全局数据库名</strong></h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>SQL&gt;select name from v<span style=color:#b8860b>$database</span>;
</span></span></code></pre></div><h3 id=查看pdbs><strong>查看PDBS</strong></h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>SQL&gt; show pdbs;
</span></span></code></pre></div><h3 id=查看数据库sga设置><strong>查看数据库SGA设置</strong></h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>SQL&gt; show parameter sga;
</span></span></code></pre></div><h3 id=查看数据库pga设置><strong>查看数据库PGA设置</strong></h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>SQL&gt; show parameter pga;
</span></span></code></pre></div><h3 id=连接cdb><strong>连接CDB</strong></h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>SQL&gt; alter session <span style=color:#a2f>set</span> <span style=color:#b8860b>container</span><span style=color:#666>=</span>CDB<span style=color:#b8860b>$ROOT</span>;
</span></span></code></pre></div></div><footer class=post-footer><div id=wcomments></div></footer></article></section></div></div><div class=sidebar-toggle><div class=sidebar-toggle-line-wrap><span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id=sidebar class=sidebar><div class=sidebar-inner><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target=post-toc-wrap>文章目录</li><li class=sidebar-nav-overview data-target=site-overview>站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image src=/img/avatar.png alt=Etaon><p class=site-author-name itemprop=name>Etaon</p><p class="site-description motion-element" itemprop=description>Kepp Going!</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href=/post/><span class=site-state-item-count>75</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>14</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>40</span>
<span class=site-state-item-name>标签</span></a></div></nav><div class="links-of-author motion-element"><span class=links-of-author-item><a href=https://github.com/etaon target=_blank title=GitHub><i class="fa fa-fw fa-github"></i>
GitHub</a></span>
<span class=links-of-author-item><a href=https://blog.csdn.net/weixin_43394724 target=_blank title=CSDN><i class="fa fa-fw fa-CSDN"></i>
CSDN</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class=links-of-blogroll-title><i class="fa fa-fw fa-globe"></i>
友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://kubernetes.io/ title=Kubernetes target=_blank>Kubernetes</a></li><li class=links-of-blogroll-item><a href=https://cisco.com/ title=Cisco target=_blank>Cisco</a></li><li class=links-of-blogroll-item><a href=https://www.w3school.com.cn/ title=W3School target=_blank>W3School</a></li><li class=links-of-blogroll-item><a href=https://www.liaoxuefeng.com/ title=廖雪峰 target=_blank>廖雪峰</a></li></ul></div><div class="tagcloud-of-blogroll motion-element tagcloud-of-blogroll-inline"><div class=tagcloud-of-blogroll-title><i class="fa fa-fw fa-tags"></i>
标签云</div><ul class=tagcloud-of-blogroll-list><li class=tagcloud-of-blogroll-item><a href=/tags/mysql>Mysql</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/aws>Aws</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/dql>Dql</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/hadoop>Hadoop</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/nsx-t>Nsx t</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/redis>Redis</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/cicd>Cicd</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/git>Git</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/kubernetes>Kubernetes</a></li><li class=tagcloud-of-blogroll-item><a href=/tags/azure>Azure</a></li></ul></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class=post-toc><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#拓扑图>拓扑图</a></li><li><a href=#环境准备>环境准备</a><ul><li><a href=#cpu绑定>CPU绑定</a></li><li><a href=#磁盘准备>磁盘准备</a></li><li><a href=#网络接口调优>网络接口调优</a></li><li><a href=#禁用防火墙等系统服务>禁用防火墙等系统服务</a></li><li><a href=#启用系统服务>启用系统服务</a></li><li><a href=#安装依赖>安装依赖</a></li><li><a href=#禁用透明大页>禁用透明大页</a></li><li><a href=#设置oracle-环境变量><strong>设置oracle 环境变量</strong></a></li><li><a href=#配置磁盘根据配置修改><strong>配置磁盘(根据配置修改)</strong></a></li></ul></li><li><a href=#grid-安装图形化安装><strong>GRID 安装(图形化安装)</strong></a><ul><li><a href=#解压安装介质root><strong>解压安装介质,root</strong></a></li><li><a href=#以grid用户登陆><strong>以grid用户登陆</strong></a></li><li><a href=#第1步配置选项><strong>第1步：配置选项</strong></a></li><li><a href=#第2步选择磁盘组><strong>第2步：选择磁盘组</strong></a></li><li><a href=#第3步指定asm口令><strong>第3步：指定ASM口令</strong></a></li><li><a href=#第4步管理选项><strong>第4步：管理选项</strong></a></li><li><a href=#第5步特权操作系统组><strong>第5步：特权操作系统组</strong></a></li><li><a href=#第6步指定安装位置><strong>第6步：指定安装位置</strong></a></li><li><a href=#第7步创建产品清单><strong>第7步：创建产品清单</strong></a></li><li><a href=#第8步root脚本执行配置><strong>第8步：Root脚本执行配置</strong></a></li><li><a href=#第9步执行先决条件检查><strong>第9步：执行先决条件检查</strong></a></li><li><a href=#第10步-概要><strong>第10步 概要</strong></a></li><li><a href=#第11步-安装产品><strong>第11步 安装产品</strong></a></li><li><a href=#第12步-完成><strong>第12步 完成</strong></a></li></ul></li><li><a href=#asm磁盘管理><strong>ASM磁盘管理</strong></a><ul><li><a href=#前面安装grid的作用就是可用asm使用磁盘>前面安装Grid的作用就是可用ASM使用磁盘</a></li><li><a href=#配置磁盘><strong>配置磁盘</strong></a></li><li><a href=#asm磁盘组配置><strong>ASM磁盘组配置</strong></a></li><li><a href=#运行asmca><strong>运行asmca</strong></a></li><li><a href=#选择磁盘组><strong>选择磁盘组</strong></a></li><li><a href=#创建磁盘组><strong>创建磁盘组</strong></a></li><li><a href=#执行操作><strong>执行操作</strong></a></li><li><a href=#完成><strong>完成</strong></a></li><li><a href=#解压安装介质oracle-login><strong>解压安装介质,oracle login</strong></a></li><li><a href=#图形化安装oracle数据库><strong>图形化安装Oracle数据库</strong></a></li><li><a href=#第1步-配置选项><strong>第1步 配置选项</strong></a></li><li><a href=#第2步-数据库安装选项><strong>第2步 数据库安装选项</strong></a></li><li><a href=#第3步-数据库版本><strong>第3步 数据库版本</strong></a></li><li><a href=#第4步-指定安装位置><strong>第4步 指定安装位置</strong></a></li><li><a href=#第5步-已授权的操作系统组><strong>第5步 已授权的操作系统组</strong></a></li><li><a href=#第6步-root脚本执行><strong>第6步 Root脚本执行</strong></a></li><li><a href=#第7步-先决条件检查><strong>第7步 先决条件检查</strong></a></li><li><a href=#第8步-概要><strong>第8步 概要</strong></a></li><li><a href=#第9步-安装产品><strong>第9步 安装产品</strong></a></li><li><a href=#第10步-完成><strong>第10步 完成</strong></a></li></ul></li><li><a href=#用dbca创建数据库><strong>用DBCA创建数据库</strong></a><ul><li><a href=#图形化创建数据库><strong>图形化创建数据库</strong></a></li><li><a href=#第1步-选择数据库操作><strong>第1步 选择数据库操作</strong></a></li><li><a href=#第2步-选择数据库创建模式><strong>第2步 选择数据库创建模式</strong></a></li><li><a href=#第3步-选择数据库部署类型><strong>第3步 选择数据库部署类型</strong></a></li><li><a href=#第4步-指定数据库标识详细信息><strong>第4步 指定数据库标识详细信息</strong></a></li><li><a href=#第5步-选择数据库存储选项><strong>第5步 选择数据库存储选项</strong></a></li><li><a href=#第6步-快速恢复选项><strong>第6步 快速恢复选项</strong></a></li><li><a href=#第7步-指定网络配置详细信息><strong>第7步 指定网络配置详细信息</strong></a></li><li><a href=#第8步-选择oracle-data-vault配置选项><strong>第8步 选择Oracle Data Vault配置选项</strong></a></li><li><a href=#第9步-指定配置选项><strong>第9步 指定配置选项</strong></a></li><li><a href=#第10步-指定管理选项><strong>第10步 指定管理选项</strong></a></li><li><a href=#第11步-指定数控用户身份证明><strong>第11步 指定数控用户身份证明</strong></a></li><li><a href=#第12步-选择数据库创建选项><strong>第12步 选择数据库创建选项</strong></a></li><li><a href=#第13步-概要><strong>第13步 概要</strong></a></li><li><a href=#第14步-进度页><strong>第14步 进度页</strong></a></li><li><a href=#第15步-完成><strong>第15步 完成</strong></a></li><li><a href=#连接oracle数据库><strong>连接Oracle数据库</strong></a></li><li><a href=#查看连接数据库名称><strong>查看连接数据库名称</strong></a></li><li><a href=#查看全局数据库名><strong>查看全局数据库名</strong></a></li><li><a href=#查看pdbs><strong>查看PDBS</strong></a></li><li><a href=#查看数据库sga设置><strong>查看数据库SGA设置</strong></a></li><li><a href=#查看数据库pga设置><strong>查看数据库PGA设置</strong></a></li><li><a href=#连接cdb><strong>连接CDB</strong></a></li></ul></li></ul></nav></div></div></section></div></aside></div></main><footer id=footer class=footer><div class=footer-inner><div class=copyright><span class=copyright-year>&copy; 2010 - 2023</span>
<span class=with-love><i class="fa fa-heart"></i></span>
<span class=copyright-author>路无止境！</span></div><div class=powered-info><span class=powered-by>Powered by - <a class=powered-link href=//gohugo.io target=_blank title=hugo>Hugo v0.101.0</a></span>
<span class=separator-line>/</span>
<span class=theme-info>Theme by - <a class=powered-link href=//github.com/elkan1788/hugo-theme-next target=_blank>NexT</a></span></div><div class=vistor-info><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<span class=site-uv><i class="fa fa-user"></i>
<span class=busuanzi-value id=busuanzi_value_site_uv></span></span>
<span class=separator-line>/</span>
<span class=site-pv><i class="fa fa-eye"></i>
<span class=busuanzi-value id=busuanzi_value_site_pv></span></span></div><div class=license-info><span class=storage-info>Storage by
<a href=https://www.azure.com/ style=font-weight:700 target=_blank>Azure static web apps</a></span>
<span class=separator-line>/</span>
<span class=license-num><a href target=_blank></a></span></div></div></footer><div class=back-to-top><i class="fa fa-arrow-up"></i>
<span id=scrollpercent><span>0</span>%</span></div></div><script type=text/javascript src=//cdn.bootcdn.net/ajax/libs/jquery/2.1.4/jquery.min.js></script>
<script type=text/javascript src=/js/search.js></script>
<script type=text/javascript src=/js/affix.js></script>
<script type=text/javascript src=/js/scrollspy.js></script>
<script type=text/javascript>function detectIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),s=e.indexOf("Edge/");return t>0||n>0||s>0?-1:1}function getCntViewHeight(){var t=$("#content").height(),e=$(window).height(),n=t>e?t-e:$(document).height()-e;return n}function getScrollbarWidth(){var e=$("<div />").addClass("scrollbar-measure").prependTo("body"),t=e[0],n=t.offsetWidth-t.clientWidth;return e.remove(),n}function registerBackTop(){var t=50,e=$(".back-to-top");$(window).on("scroll",function(){e.toggleClass("back-to-top-on",window.pageYOffset>t);var s=$(window).scrollTop(),o=getCntViewHeight(),i=s/o,n=Math.round(i*100),a=n>100?100:n;$("#scrollpercent>span").html(a)}),e.on("click",function(){$("html,body").animate({scrollTop:0,screenLeft:0},800)})}function initScrollSpy(){var e=".post-toc",s=$(e),t=".active-current";s.on("activate.bs.scrollspy",function(){var t=$(e+" .active").last();n(),t.addClass("active-current")}).on("clear.bs.scrollspy",n),$("body").scrollspy({target:e});function n(){$(e+" "+t).removeClass(t.substring(1))}}function initAffix(){var e=$(".header-inner").height(),t=parseInt($(".main").css("padding-bottom"),10),n=e+10;$(".sidebar-inner").affix({offset:{top:n,bottom:t}}),$(document).on("affixed.bs.affix",function(){updateTOCHeight(document.body.clientHeight-100)})}function initTOCDimension(){$(window).on("resize",function(){e&&clearTimeout(e),e=setTimeout(function(){var e=document.body.clientHeight-100;updateTOCHeight(e)},0)}),updateTOCHeight(document.body.clientHeight-100);var e,t=getScrollbarWidth();$(".post-toc").css("width","calc(100% + "+t+"px)")}function updateTOCHeight(e){e=e||"auto",$(".post-toc").css("max-height",e)}$(function(){var e,t,n,s,o=$(".header-inner").height()+10;$("#sidebar").css({"margin-top":o}).show(),t=parseInt($("#sidebar").css("margin-top")),n=parseInt($(".sidebar-inner").css("height")),e=t+n,s=$(".content-wrap").height(),s<e&&$(".content-wrap").css("min-height",e),$(".site-nav-toggle").on("click",function(){var e=$(".site-nav"),o=$(".toggle"),t="site-nav-on",i="toggle-close",n=e.hasClass(t),a=n?"slideUp":"slideDown",s=n?"removeClass":"addClass";e.stop()[a]("normal",function(){e[s](t),o[s](i)})}),registerBackTop(),initScrollSpy(),initAffix(),initTOCDimension(),$(".sidebar-nav-toc").click(function(){$(this).addClass("sidebar-nav-active"),$(this).next().removeClass("sidebar-nav-active"),$("."+$(this).next().attr("data-target")).toggle(500),$("."+$(this).attr("data-target")).toggle(500)}),$(".sidebar-nav-overview").click(function(){$(this).addClass("sidebar-nav-active"),$(this).prev().removeClass("sidebar-nav-active"),$("."+$(this).prev().attr("data-target")).toggle(500),$("."+$(this).attr("data-target")).toggle(500)})})</script><script src=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.js></script>
<script type=text/javascript>$(function(){$(".post-body").viewer()})</script><script type=text/javascript>$(function(){detectIE()>0?$.getScript(document.location.protocol+"//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js",function(){new Waline({el:"#wcomments",visitor:!0,avatar:"wavatar",avatarCDN:"https://sdn.geekzu.org/avatar/",avatarForce:!1,wordLimit:"200",placeholder:" 欢迎留下您的宝贵建议，请填写您的昵称和邮箱便于后续交流. ^_^ ",requiredFields:["nick","mail"],serverURL:"Your WalineSerURL",lang:"zh-cn"})}):$("#wcomments").html("抱歉，Waline插件不支持IE或Edge，建议使用Chrome浏览器。")})</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=Your%20AddthisId"></script>
<script>(function(){var t,e=document.createElement("script"),n=window.location.protocol.split(":")[0];n==="https"?e.src="https://zz.bdstatic.com/linksubmit/push.js":e.src="http://push.zhanzhang.baidu.com/push.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script></body></html>